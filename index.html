<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Imaginary Gifts | Customised Gifts Catalogue</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{margin:0;font-family:Inter;background:#000;color:#fff}
.header{position:sticky;top:0;z-index:1000;background:#0b0b0b;padding:14px;text-align:center;font-weight:600;border-bottom:1px solid #222}
.category-bar{display:flex;gap:10px;overflow-x:auto;padding:10px;background:#000}
.category-btn{white-space:nowrap;padding:8px 14px;border-radius:20px;background:#222;font-size:13px;cursor:pointer}
.category-btn.active{background:linear-gradient(45deg,#feda75,#fa7e1e,#d62976)}
.container{max-width:480px;margin:auto;padding:14px}
.card{background:#1c1c1c;border-radius:16px;padding:14px;margin-bottom:20px}
.card h3{margin:0;font-size:16px}
.price{margin-top:6px;font-weight:600;color:#f5e642}
label{font-size:12px;color:#aaa;display:block;margin-top:10px}
input{width:100%;padding:10px;border-radius:10px;border:none;margin-top:4px}
.order-btn{margin-top:14px;background:#25D366;color:#fff;padding:14px;border-radius:30px;font-weight:600;text-align:center;cursor:pointer}
.hidden{display:none}
#uploadOverlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.85);z-index:99999;align-items:center;justify-content:center;flex-direction:column}
.spinner{width:50px;height:50px;border:5px solid #333;border-top:5px solid #25D366;border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
</style>
</head>

<body>

<div class="header">üéÅ Imaginary Gifts ‚Äì Customised Catalogue</div>

<div class="category-bar">
  <div class="category-btn active" onclick="showCategory('mug')">MUG</div>
  <div class="category-btn" onclick="showCategory('sipper')">SIPPER</div>
  <div class="category-btn" onclick="showCategory('jewellery')">JEWELLERY</div>
  <div class="category-btn" onclick="showCategory('keychain')">KEYCHAIN</div>
  <div class="category-btn" onclick="showCategory('pen')">PEN</div>
  <div class="category-btn" onclick="showCategory('combo')">GIFT COMBO</div>
  <div class="category-btn" onclick="showCategory('wallet')">WALLET</div>
  <div class="category-btn" onclick="showCategory('lamp')">NIGHT LAMP</div>
  <div class="category-btn" onclick="showCategory('wood')">WOOD ENGRAVE</div>
  <div class="category-btn" onclick="showCategory('frame')">PHOTO FRAME</div>
  <div class="category-btn" onclick="showCategory('led')">LED / NEON</div>
  <div class="category-btn" onclick="showCategory('stand')">STANDY / DESK</div>
</div>

<div class="container">

<!-- TEMPLATE: PRODUCT CARD -->
<script>
function productCard(name, price, category){
  return `
  <div class="card">
    <h3>${name}</h3>
    <div class="price">‚Çπ ${price}</div>

    <label>Enter Text</label>
    <input type="text">

    <label>Upload Images</label>
    <div class="image-upload-box">
      <input type="file" accept="image/*" onchange="addNewImageInput(this)">
    </div>

    <div class="order-btn"
      onclick="orderNow(this,'${name}','${category}','${price}')">
      Order on WhatsApp
    </div>
  </div>`;
}
</script>

<div id="mug" class="category mug"></div>
<div id="sipper" class="category sipper hidden"></div>
<div id="jewellery" class="category jewellery hidden"></div>
<div id="keychain" class="category keychain hidden"></div>
<div id="pen" class="category pen hidden"></div>
<div id="combo" class="category combo hidden"></div>
<div id="wallet" class="category wallet hidden"></div>
<div id="lamp" class="category lamp hidden"></div>
<div id="wood" class="category wood hidden"></div>
<div id="frame" class="category frame hidden"></div>
<div id="led" class="category led hidden"></div>
<div id="stand" class="category stand hidden"></div>

</div>

<div id="uploadOverlay">
  <div class="spinner"></div>
  <p style="margin-top:16px;font-size:14px">Uploading image‚Ä¶ Please wait</p>
</div>

<script>
const products={
  mug:[["Magic Photo Mug",349],["Inner Color Mug",299],["Handle Photo Mug",329]],
  sipper:[["Steel Sipper",499],["Gym Sipper",549],["Kids Sipper",449]],
  jewellery:[["Name Pendant",699],["Photo Pendant",799],["Eye Pendant",899]],
  keychain:[["Photo Keychain",149],["Acrylic Keychain",199],["Metal Keychain",249]],
  pen:[["Name Pen",99],["Metal Pen",149],["Gift Pen",199]],
  combo:[["Birthday Combo",999],["Couple Combo",1299],["Anniversary Combo",1599]],
  wallet:[["Men Wallet",699],["Women Wallet",749],["Photo Wallet",899]],
  lamp:[["3D Photo Lamp",1299],["Acrylic Lamp",999],["Heart Lamp",1099]],
  wood:[["Wood Engrave Plank",799],["Couple Plank",999],["Family Plank",1299]],
  frame:[["Acrylic Frame",999],["Glossy Frame",799],["Collage Frame",1499]],
  led:[["LED Photo Frame",1799],["Neon Name Light",2499],["LED Quote Board",1999]],
  stand:[["Photo Standy",499],["Name Standy",399],["Desk Plate",699]]
};

for(const cat in products){
  const el=document.getElementById(cat);
  products[cat].forEach(p=>{
    el.innerHTML+=productCard(p[0],p[1],cat.toUpperCase());
  });
}

function showCategory(cat){
  document.querySelectorAll('.category').forEach(c=>c.classList.add('hidden'));
  document.querySelectorAll('.category-btn').forEach(b=>b.classList.remove('active'));
  document.getElementById(cat).classList.remove('hidden');
  event.target.classList.add('active');
}

function addNewImageInput(input){
  if(input.files.length>0){
    const box=input.parentElement;
    const newInput=document.createElement("input");
    newInput.type="file";
    newInput.accept="image/*";
    newInput.style.marginTop="8px";
    newInput.onchange=function(){addNewImageInput(this)};
    box.appendChild(newInput);
  }
}

async function uploadToCloudinary(file){
  const form=new FormData();
  form.append("file",file);
  form.append("upload_preset","ig-upload");
  const res=await fetch("https://api.cloudinary.com/v1_1/dpd2nhzrf/image/upload",{method:"POST",body:form});
  const data=await res.json();
  return data.secure_url;
}

async function orderNow(btn,product,category,price){
  const card=btn.closest('.card');
  const text=card.querySelector('input[type="text"]')?.value||"N/A";
  const inputs=card.querySelectorAll('input[type="file"]');

  document.getElementById("uploadOverlay").style.display="flex";

  let links=[];
  for(let i of inputs){
    if(i.files.length>0){
      links.push(await uploadToCloudinary(i.files[0]));
    }
  }

  document.getElementById("uploadOverlay").style.display="none";

  let msg=`Hi Imaginary Gifts üëã
Category: ${category}
Product: ${product}
Price: ‚Çπ${price}
Custom Text: ${text}

Images:\n`;
  links.forEach((l,i)=>msg+=`${i+1}. ${l}\n`);

  window.open("https://wa.me/917385235738?text="+encodeURIComponent(msg));
}
</script>

</body>
</html>