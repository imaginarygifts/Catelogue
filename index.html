<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Imaginary Gifts | Customised Gifts Catalogue</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{margin:0;font-family:Inter;background:#000;color:#fff}

/* HEADER */
.header{
  position:sticky;top:0;z-index:1000;
  background:#0b0b0b;
  padding:14px;
  text-align:center;
  font-weight:600;
  border-bottom:1px solid #222
}

/* CATEGORY BAR */
.category-bar{
  display:flex;gap:10px;
  overflow-x:auto;
  padding:10px;
}
.category-btn{
  padding:8px 14px;
  border-radius:20px;
  background:#222;
  font-size:13px;
  cursor:pointer;
  white-space:nowrap;
}
.category-btn.active{
  background:linear-gradient(45deg,#feda75,#fa7e1e,#d62976);
}

/* CONTAINER */
.container{max-width:480px;margin:auto;padding:14px}

/* CARD */
.card{
  background:#1c1c1c;
  border-radius:16px;
  padding:14px;
  margin-bottom:20px
}
.card h3{margin:0;font-size:16px}
.price{color:#f5e642;font-weight:600;margin-top:4px}

/* PRODUCT IMAGES */
.images{display:flex;gap:8px;overflow-x:auto;margin-top:8px}
.images img{
  width:90px;height:90px;
  object-fit:cover;
  border-radius:10px;
  cursor:pointer;
}

/* FORM */
label{font-size:12px;color:#aaa;margin-top:10px;display:block}
input{width:100%;padding:10px;border-radius:10px;border:none;margin-top:4px}

/* UPLOAD PREVIEW */
.upload-preview{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
.preview-box{position:relative}
.preview-box img{
  width:70px;height:70px;
  border-radius:8px;
  object-fit:cover
}
.preview-box span{
  position:absolute;top:-6px;right:-6px;
  background:red;color:#fff;
  border-radius:50%;
  width:18px;height:18px;
  font-size:12px;
  text-align:center;
  line-height:18px;
  cursor:pointer
}

/* ORDER BTN */
.order-btn{
  margin-top:14px;
  background:#25D366;
  padding:14px;
  border-radius:30px;
  text-align:center;
  font-weight:600;
  cursor:pointer
}

/* HIDE */
.hidden{display:none}

/* FULLSCREEN IMAGE VIEW */
#imgViewer{
  display:none;
  position:fixed;inset:0;
  background:rgba(0,0,0,0.9);
  z-index:99999;
  align-items:center;
  justify-content:center
}
#imgViewer img{
  max-width:90%;
  max-height:90%;
  border-radius:12px
}

/* UPLOAD OVERLAY */
#uploadOverlay{
  display:none;
  position:fixed;inset:0;
  background:rgba(0,0,0,0.85);
  z-index:99998;
  align-items:center;
  justify-content:center;
  flex-direction:column
}
.spinner{
  width:50px;height:50px;
  border:5px solid #333;
  border-top:5px solid #25D366;
  border-radius:50%;
  animation:spin 1s linear infinite
}
@keyframes spin{to{transform:rotate(360deg)}}
</style>
</head>

<body>

<div class="header">üéÅ Imaginary Gifts ‚Äì Customised Catalogue</div>

<!-- CATEGORY BAR -->
<div class="category-bar">
  <div class="category-btn active" onclick="showCategory('mug')">MUG</div>
  <div class="category-btn" onclick="showCategory('sipper')">SIPPER</div>
  <div class="category-btn" onclick="showCategory('jewellery')">JEWELLERY</div>
  <div class="category-btn" onclick="showCategory('keychain')">KEYCHAIN</div>
  <div class="category-btn" onclick="showCategory('pen')">PEN</div>
  <div class="category-btn" onclick="showCategory('combo')">GIFT COMBO</div>
  <div class="category-btn" onclick="showCategory('wallet')">WALLET</div>
  <div class="category-btn" onclick="showCategory('lamp')">NIGHT LAMP</div>
  <div class="category-btn" onclick="showCategory('wood')">WOOD PLANK</div>
  <div class="category-btn" onclick="showCategory('frame')">PHOTO FRAME</div>
  <div class="category-btn" onclick="showCategory('led')">LED / NEON</div>
  <div class="category-btn" onclick="showCategory('stand')">STANDY / DESK</div>
</div>

<div class="container">

<!-- PRODUCT TEMPLATE -->
<script>
function productCard(name, price, category){
return `
<div class="card">
  <h3>${name}</h3>
  <div class="price">‚Çπ ${price}</div>

  <div class="images">
    <img src="https://via.placeholder.com/600" onclick="openImage(this)">
    <img src="https://via.placeholder.com/600" onclick="openImage(this)">
    <img src="https://via.placeholder.com/600" onclick="openImage(this)">
  </div>

  <label>Enter Text</label>
  <input type="text">

  <label>Upload Images</label>
  <div class="image-upload-box">
    <input type="file" accept="image/*" onchange="handleUpload(this)">
  </div>
  <div class="upload-preview"></div>

  <div class="order-btn" onclick="orderNow(this,'${name}','${category}','${price}')">
    Order on WhatsApp
  </div>
</div>`;
}
</script>

<div id="mug" class="category"></div>
<div id="sipper" class="category hidden"></div>
<div id="jewellery" class="category hidden"></div>
<div id="keychain" class="category hidden"></div>
<div id="pen" class="category hidden"></div>
<div id="combo" class="category hidden"></div>
<div id="wallet" class="category hidden"></div>
<div id="lamp" class="category hidden"></div>
<div id="wood" class="category hidden"></div>
<div id="frame" class="category hidden"></div>
<div id="led" class="category hidden"></div>
<div id="stand" class="category hidden"></div>

</div>

<!-- IMAGE VIEWER -->
<div id="imgViewer" onclick="this.style.display='none'">
  <img id="viewerImg">
</div>

<!-- UPLOADING OVERLAY -->
<div id="uploadOverlay">
  <div class="spinner"></div>
  <p style="margin-top:16px">Uploading image‚Ä¶</p>
</div>

<script>
const products={
  mug:[["Magic Photo Mug",349],["Inner Color Mug",299],["Handle Mug",329]],
  sipper:[["Steel Sipper",499],["Gym Sipper",549],["Kids Sipper",449]],
  jewellery:[["Name Pendant",699],["Photo Pendant",799],["Eye Pendant",899]],
  keychain:[["Photo Keychain",149],["Acrylic Keychain",199],["Metal Keychain",249]],
  pen:[["Name Pen",99],["Metal Pen",149],["Gift Pen",199]],
  combo:[["Birthday Combo",999],["Couple Combo",1299],["Anniversary Combo",1599]],
  wallet:[["Men Wallet",699],["Women Wallet",749],["Photo Wallet",899]],
  lamp:[["3D Photo Lamp",1299],["Acrylic Lamp",999],["Heart Lamp",1099]],
  wood:[["Wood Engrave Plank",799],["Couple Plank",999],["Family Plank",1299]],
  frame:[["Acrylic Frame",999],["Glossy Frame",799],["Collage Frame",1499]],
  led:[["LED Photo Frame",1799],["Neon Name Light",2499],["LED Quote Board",1999]],
  stand:[["Photo Standy",499],["Name Standy",399],["Desk Plate",699]]
};

for(const c in products){
  const el=document.getElementById(c);
  products[c].forEach(p=>el.innerHTML+=productCard(p[0],p[1],c.toUpperCase()));
}

function showCategory(cat){
  document.querySelectorAll('.category').forEach(x=>x.classList.add('hidden'));
  document.querySelectorAll('.category-btn').forEach(b=>b.classList.remove('active'));
  document.getElementById(cat).classList.remove('hidden');
  event.target.classList.add('active');
}

/* FULLSCREEN IMAGE */
function openImage(img){
  document.getElementById("viewerImg").src=img.src;
  document.getElementById("imgViewer").style.display="flex";
}

/* UPLOAD PREVIEW */
function handleUpload(input){
  const preview=input.closest('.card').querySelector('.upload-preview');
  if(input.files.length>0){
    const file=input.files[0];
    const url=URL.createObjectURL(file);

    const box=document.createElement('div');
    box.className="preview-box";
    box.innerHTML=`<img src="${url}"><span onclick="this.parentElement.remove()">√ó</span>`;
    preview.appendChild(box);

    const next=document.createElement("input");
    next.type="file";
    next.accept="image/*";
    next.onchange=function(){handleUpload(this)};
    next.style.marginTop="8px";
    input.parentElement.appendChild(next);
  }
}

/* CLOUDINARY */
async function uploadToCloudinary(file){
  const f=new FormData();
  f.append("file",file);
  f.append("upload_preset","ig-upload");
  const r=await fetch("https://api.cloudinary.com/v1_1/dpd2nhzrf/image/upload",{method:"POST",body:f});
  return (await r.json()).secure_url;
}

async function orderNow(btn,product,category,price){
  const card=btn.closest('.card');
  const text=card.querySelector('input[type="text"]').value||"N/A";
  const files=card.querySelectorAll('input[type="file"]');

  document.getElementById("uploadOverlay").style.display="flex";

  let links=[];
  for(let i of files){
    if(i.files.length>0){
      links.push(await uploadToCloudinary(i.files[0]));
    }
  }

  document.getElementById("uploadOverlay").style.display="none";

  let msg=`Hi Imaginary Gifts üëã
Category: ${category}
Product: ${product}
Price: ‚Çπ${price}
Text: ${text}

Images:\n`;
  links.forEach((l,i)=>msg+=`${i+1}. ${l}\n`);

  window.open("https://wa.me/917385235738?text="+encodeURIComponent(msg));
}
</script>

</body>
</html>